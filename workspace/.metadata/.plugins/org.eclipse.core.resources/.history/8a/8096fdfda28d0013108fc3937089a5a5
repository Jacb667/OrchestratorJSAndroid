package com.ojs.capabilities.testCapability;




import org.json.JSONArray;
import org.json.JSONObject;

import com.ojs.OrchestratorJsActivity;

import android.annotation.SuppressLint;
import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.util.Log;

public class TestCapability {


	private static Context applicationContext;	
	public void initCapability(Context applicationContext) {
		TestCapability.applicationContext = applicationContext;
	}



	@SuppressLint("NewApi")
	public Object throwException() throws Exception {

		if(true)
			throw(new Exception("voi rahma"));
		
		return null;
	}
	
	@SuppressLint("NewApi")
	public Object test() throws Exception {
		Log.d(OrchestratorJsActivity.TAG, "test foo1");
		Intent i = new Intent(TestCapability.applicationContext, TestCapabilityActivity.class);
		i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
		Log.d(OrchestratorJsActivity.TAG, "test foo2");
		TestCapability.applicationContext.startActivity(i);
		Log.d(OrchestratorJsActivity.TAG, "test foo3");
		return false;
	}

	

	private class TestActivityEventReceiver extends BroadcastReceiver {
		@Override
		public void onReceive(Context context, Intent intent) {
			try {
				Log.d(OrchestratorJsActivity.TAG, "got SDEvent");
				
				JSONObject o = new JSONObject(intent.getStringExtra(OrchestratorJsActivity.OJS_EVENT_PARAMS));

			} catch(Exception e) {
				e.printStackTrace();
			}
		}
	};
	
}










